#!/bin/bash

#------------------------------------------------------------------------
# Configuration script:
#
# This script should be run once before the first time the program is
# compiled. It must be run from the root simpatico/ directory, in which
# this script is located.
# 
# This script:
#
# 1) Copies default or repository versions of several configuration files, 
# marked with a suffix _r, to modifiable user versions. 
#
# 2) Sets the makefile variable $(ROOT_DIR) in the file src/compiler.mk 
# to the absolute path of the current working directory, as given by the 
# shell variable $PWD.
# 
#------------------------------------------------------------------------

# Copy repository (_r) versions of defines.mk files to user versions.
# The resulting defines.mk makefile fragments may be modified by the user.

cp  src/util/defines.mk_r  src/util/defines.mk
cp  src/inter/defines.mk_r src/inter/defines.mk
cp  src/mcMd/defines.mk_r  src/mcMd/defines.mk
cp  src/ddMd/defines.mk_r  src/ddMd/defines.mk

# Copy typedef for the class that defines boundary conditions
cp  src/util/boundary/Boundary.h_r src/util/boundary/Boundary.h

# Copy the compiler.mk file and set the value of $(ROOT_DIR) to $PWD.
sed "s|=PWD|=$PWD|" src/compiler.mk_r > src/compiler.mk

