#-----------------------------------------------------------------------
# Set values that depend on UTIL_MPI and UTIL_DEBUG

ifneq ($(UTIL_MPI),1)
   # Serial compiler (no mpi)
   CXX=$(CXX_SER)
   ifdef UTIL_DEBUG
      CXXFLAGS=$(CXXFLAGS_SER_DEBUG)
   else
      CXXFLAGS=$(CXXFLAGS_SER_FAST)
   endif
else
   # Parallel compiler (Mpi-enabled)
   CXX=$(CXX_PAR)
   ifdef UTIL_DEBUG
      CXXFLAGS=$(CXXFLAGS_PAR_DEBUG)
   else
      CXXFLAGS=$(CXXFLAGS_PAR_FAST)
   endif
endif

#-----------------------------------------------------------------------
# Automatic dependency generation (comment out to disable)
#
# Automatic dependency is enabled by default and should normally be 
# left enabled. Automatic dependency generation allows the build system
# to correctly decide what needs to be recompiled if you modify any 
# compile time option, config.mk file or source file after compiling 
# once and before recompiling. 

MAKEDEP=$(ROOT_DIR)/bin/makeDep

# Comment: The automatic dependency generation system used by 
# simpatico relies on an executable python script named makeDep in 
# the bin/ directory. This uses a python module named makeDepend to 
# post-process dependency files that are generated by the compiler. 
# The most common problem with this system is a failure of the python 
# interpreter to find the makeDepend module, which is defined in the 
# file $(ROOT_DIR)/scripts/python/makeDepend.py.  If you run into 
# this problem, you probably just need to add the absolute path to
# the simpatico/scripts/python directory to the PYTHON_PATH 
# environment variable, as described in the web documentation for 
# how to compile.
#
