#!/bin/bash
set -ev

if [ "$SMP_PROG" == "mcMd" ]; then 
  cd $TRAVIS_BUILD_DIR/bld/serial/util/tests && make run
  cd $TRAVIS_BUILD_DIR/bld/serial/simp/tests && make run
  cd $TRAVIS_BUILD_DIR/bld/serial/mcMd/tests && make run
  cd $TRAVIS_BUILD_DIR/bld/serial/mdPp/tests && make run
  cd $TRAVIS_BUILD_DIR/testcases/mdSim/A && ./run && ./clean
  cd $TRAVIS_BUILD_DIR/testcases/mcSim/A && ./run && ./clean
  cd $TRAVIS_BUILD_DIR/testcases/mcSim/B && ./run && ./clean
fi

if [ "$SMP_PROG" == "ddMd" ]; then
  cd $TRAVIS_BUILD_DIR/bld/parallel/ddMd/tests && make run 
  cd $TRAVIS_BUILD_DIR/testcases/ddSim/A && ./run && ./clean
fi

if [ "$SMP_PROG" == "mcMdMpi" ]; then 
  cd $TRAVIS_BUILD_DIR/bld/parallel/mcMd/tests && make run 
  cd $TRAVIS_BUILD_DIR/testcases/mdSim_m/A && ./run && ./clean
  cd $TRAVIS_BUILD_DIR/testcases/mcSim_m/A && ./run && ./clean
  cd $TRAVIS_BUILD_DIR/testcases/mcSim_m/B && ./run && ./clean
fi
